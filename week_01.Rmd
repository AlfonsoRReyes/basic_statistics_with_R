---
title: "R Notebook"
output: html_notebook
---

## Making a Contingency Table
100xp
Saved in your console is a dataset called smoking, which contains data about amount of tobacco smoked per day in a sample of 88 students. The student variable says whether a student is in high school, or university, and the tobacco variable indicates how many grams of tobacco are smoked per day. We expected that there would be more tobacco use (the dependent variable) in university (the independent variable).

We can make a contingency table of this data using the table() function. While previously you may have used this with one variable, this time you will use it with two. The first variable used with table() will appear in the rows, while the second variable will appear in the columns.

Instructions
Make a contingency table with amount of tobacco smoked as rows, and education as columns.

```{r}
load("smoking.rda")

# Make a contingency table of tobacco consumption and education
st <- table(smoking$tobacco, smoking$student)
st
```

## Calculating Percentage From Your Contingency Table
100xp
Have a look at the contingency table of tobacco consumption and education you made in the last exercise. It's saved in your console as st. Let's use it to calculate some percentages!

In this exercise you need to report your answers to one decimal place. You are free to do this manually, but if you want a quick way to do this through R you can use the round() function. The first argument of round() is the value that you want to round (this can be in the form of a raw number, or an equation), and the second argument is digits =, where you specify the number of decimal places you want the number rounded to. For instance, round(12.6734, digits = 2) would return the value 12.67.

Instructions
In your console, calculate the percentage of high school students who smoke 0-9g of tobacco per day.
In your console, calculate what percentage of students who smoke the most are in university.
Type your answers to one decimal place (without a percentage symbol) into your script


```{r}
# What percentage of high school students smoke 0-9g of tobacco?
round(st["0-9g", "high school"] / sum(st[, "high school"])*100, 1) #38.6

# Of the students who smoke the most, what percentage are in university?
round(max(st["20-29g", "university"]) / sum(st["20-29g" ,])*100, 1) # 57.7
```

Recoding Variables
100xp
Currently the mpg (miles per gallon) variable of mtcars is a continuous numeric variable, but it may be more useful if mpg was a categorical variable that immedietly told you if the car had low or high miles per gallon.

We can make categories through indexing variables that meet certain criteria.

For instance, if we want to make a new variable that categorises people over age 18 as "adult"", we might enter: yourdata$newvariable[yourdata$age > 18] <- "adult" This assigns the value "adult" to the variable newvariable, for all cases where age is greater than 18.

Remember, you can select a specific variable using either $ or [,]. If you need to look at your data you can simply enter mtcars into your console, or if you just want to check the variables you can always enter str(mtcars) in your console

Instructions
Make a copy of mtcars called mtcars2 (this is useful so that if you make a mistake your original dataset stays in tact!)
Using mtcars2 in your script, make a new variable called mpgcategory where values ofmpg greater than, or equal to 20 are classed as "high" and below 20 are classed as "low".
The new variable will be classed as 'charater' by default. Assign mpgcategory as a factor to a new variable mtcars2$mpgfactor using the function as.factor().

```{r}
#Assign the value of mtcars to the new variable mtcars2
mtcars2 <- mtcars
#Assign the label "high" to mpgcategory where mpg is greater than or equal to 20
mtcars2$mpgcategory[mtcars2$mpg >= 20] <- "high"
#Assign the label "low" to mpgcategory where mpg is less than 20
mtcars2$mpgcategory[mtcars2$mpg < 20] <- "low"
#Assign mpgcategory as factor to mpgfactor
mtcars2$mpgfactor <- as.factor(mtcars2$mpgcategory)
```

